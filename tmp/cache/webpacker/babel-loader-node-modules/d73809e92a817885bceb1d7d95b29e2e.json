{"ast":null,"code":"import \"bootstrap\";\nimport \"jquery\";\nimport 'mapbox-gl/dist/mapbox-gl.css'; // <-- you need to uncomment the stylesheet_pack_tag in the layout!\n\nimport { initMapbox } from '../plugins/init_mapbox';\nimport '@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css';\ninitMapbox();\n\nif ($(\"#btn-sign-in\")) {\n  $('#modal-window').modal({\n    backdrop: 'static',\n    keyboard: false\n  });\n  $('#btn-sign-in').click();\n}\n\nvar map = new mapboxgl.Map({\n  container: 'map',\n  style: 'mapbox://styles/mapbox/light-v10',\n  center: [-90.96, -0.47],\n  zoom: 8\n});\nmap.on('load', function () {\n  // Add a symbol layer.\n  map.addLayer({\n    \"id\": \"symbols\",\n    \"type\": \"symbol\",\n    \"source\": {\n      \"type\": \"geojson\",\n      \"data\": {\n        \"type\": \"FeatureCollection\",\n        \"features\": [{\n          \"type\": \"Feature\",\n          \"properties\": {},\n          \"geometry\": {\n            \"type\": \"Point\",\n            \"coordinates\": [-91.395263671875, -0.9145729757782163]\n          }\n        }, {\n          \"type\": \"Feature\",\n          \"properties\": {},\n          \"geometry\": {\n            \"type\": \"Point\",\n            \"coordinates\": [-90.32958984375, -0.6344474832838974]\n          }\n        }, {\n          \"type\": \"Feature\",\n          \"properties\": {},\n          \"geometry\": {\n            \"type\": \"Point\",\n            \"coordinates\": [-91.34033203125, 0.01647949196029245]\n          }\n        }]\n      }\n    },\n    \"layout\": {\n      \"icon-image\": \"rocket-15\"\n    }\n  }); // Center the map on the coordinates of any clicked symbol from the 'symbols' layer.\n\n  map.on('click', 'symbols', function (e) {\n    map.flyTo({\n      center: e.features[0].geometry.coordinates\n    });\n  }); // Change the cursor to a pointer when the it enters a feature in the 'symbols' layer.\n\n  map.on('mouseenter', 'symbols', function () {\n    map.getCanvas().style.cursor = 'pointer';\n  }); // Change it back to a pointer when it leaves.\n\n  map.on('mouseleave', 'symbols', function () {\n    map.getCanvas().style.cursor = '';\n  });\n});","map":{"version":3,"sources":["/Users/remibongiovanni/code/BTC1M/rails-out/app/javascript/packs/application.js"],"names":["initMapbox","$","modal","backdrop","keyboard","click","map","mapboxgl","Map","container","style","center","zoom","on","addLayer","e","flyTo","features","geometry","coordinates","getCanvas","cursor"],"mappings":"AAAA,OAAO,WAAP;AACA,OAAO,QAAP;AAEA,OAAO,8BAAP,C,CAAuC;;AACvC,SAASA,UAAT,QAA2B,wBAA3B;AACA,OAAO,wDAAP;AACAA,UAAU;;AAEV,IAAIC,CAAC,CAAC,cAAD,CAAL,EAAuB;AACrBA,EAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBC,KAAnB,CAAyB;AACvBC,IAAAA,QAAQ,EAAE,QADa;AAEvBC,IAAAA,QAAQ,EAAE;AAFa,GAAzB;AAIAH,EAAAA,CAAC,CAAC,cAAD,CAAD,CAAkBI,KAAlB;AACD;;AAID,IAAIC,GAAG,GAAG,IAAIC,QAAQ,CAACC,GAAb,CAAiB;AAC3BC,EAAAA,SAAS,EAAE,KADgB;AAE3BC,EAAAA,KAAK,EAAE,kCAFoB;AAG3BC,EAAAA,MAAM,EAAE,CAAC,CAAC,KAAF,EAAS,CAAC,IAAV,CAHmB;AAI3BC,EAAAA,IAAI,EAAE;AAJqB,CAAjB,CAAV;AAOAN,GAAG,CAACO,EAAJ,CAAO,MAAP,EAAe,YAAY;AAC3B;AACAP,EAAAA,GAAG,CAACQ,QAAJ,CAAa;AACb,UAAM,SADO;AAEb,YAAQ,QAFK;AAGb,cAAU;AACV,cAAQ,SADE;AAEV,cAAQ;AACR,gBAAQ,mBADA;AAER,oBAAY,CACZ;AACA,kBAAQ,SADR;AAEA,wBAAc,EAFd;AAGA,sBAAY;AACZ,oBAAQ,OADI;AAEZ,2BAAe,CACf,CAAC,eADc,EAEf,CAAC,kBAFc;AAFH;AAHZ,SADY,EAaZ;AACA,kBAAQ,SADR;AAEA,wBAAc,EAFd;AAGA,sBAAY;AACZ,oBAAQ,OADI;AAEZ,2BAAe,CACf,CAAC,cADc,EAEf,CAAC,kBAFc;AAFH;AAHZ,SAbY,EAwBZ;AACA,kBAAQ,SADR;AAEA,wBAAc,EAFd;AAGA,sBAAY;AACZ,oBAAQ,OADI;AAEZ,2BAAe,CACf,CAAC,cADc,EAEf,mBAFe;AAFH;AAHZ,SAxBY;AAFJ;AAFE,KAHG;AA6Cb,cAAU;AACV,oBAAc;AADJ;AA7CG,GAAb,EAF2B,CAoD3B;;AACAR,EAAAA,GAAG,CAACO,EAAJ,CAAO,OAAP,EAAgB,SAAhB,EAA2B,UAAUE,CAAV,EAAa;AACxCT,IAAAA,GAAG,CAACU,KAAJ,CAAU;AAACL,MAAAA,MAAM,EAAEI,CAAC,CAACE,QAAF,CAAW,CAAX,EAAcC,QAAd,CAAuBC;AAAhC,KAAV;AACC,GAFD,EArD2B,CAyD3B;;AACAb,EAAAA,GAAG,CAACO,EAAJ,CAAO,YAAP,EAAqB,SAArB,EAAgC,YAAY;AAC5CP,IAAAA,GAAG,CAACc,SAAJ,GAAgBV,KAAhB,CAAsBW,MAAtB,GAA+B,SAA/B;AACC,GAFD,EA1D2B,CA8D3B;;AACAf,EAAAA,GAAG,CAACO,EAAJ,CAAO,YAAP,EAAqB,SAArB,EAAgC,YAAY;AAC5CP,IAAAA,GAAG,CAACc,SAAJ,GAAgBV,KAAhB,CAAsBW,MAAtB,GAA+B,EAA/B;AACC,GAFD;AAGC,CAlED","sourcesContent":["import \"bootstrap\";\nimport \"jquery\";\n\nimport 'mapbox-gl/dist/mapbox-gl.css'; // <-- you need to uncomment the stylesheet_pack_tag in the layout!\nimport { initMapbox } from '../plugins/init_mapbox';\nimport '@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css';\ninitMapbox();\n\nif ($(\"#btn-sign-in\")) {\n  $('#modal-window').modal({\n    backdrop: 'static',\n    keyboard: false\n  });\n  $('#btn-sign-in').click();\n}\n\n\n\nvar map = new mapboxgl.Map({\ncontainer: 'map',\nstyle: 'mapbox://styles/mapbox/light-v10',\ncenter: [-90.96, -0.47],\nzoom: 8\n});\n \nmap.on('load', function () {\n// Add a symbol layer.\nmap.addLayer({\n\"id\": \"symbols\",\n\"type\": \"symbol\",\n\"source\": {\n\"type\": \"geojson\",\n\"data\": {\n\"type\": \"FeatureCollection\",\n\"features\": [\n{\n\"type\": \"Feature\",\n\"properties\": {},\n\"geometry\": {\n\"type\": \"Point\",\n\"coordinates\": [\n-91.395263671875,\n-0.9145729757782163\n \n]\n}\n},\n{\n\"type\": \"Feature\",\n\"properties\": {},\n\"geometry\": {\n\"type\": \"Point\",\n\"coordinates\": [\n-90.32958984375,\n-0.6344474832838974\n]\n}\n},\n{\n\"type\": \"Feature\",\n\"properties\": {},\n\"geometry\": {\n\"type\": \"Point\",\n\"coordinates\": [\n-91.34033203125,\n0.01647949196029245\n]\n}\n}\n]\n}\n},\n\"layout\": {\n\"icon-image\": \"rocket-15\"\n}\n});\n \n// Center the map on the coordinates of any clicked symbol from the 'symbols' layer.\nmap.on('click', 'symbols', function (e) {\nmap.flyTo({center: e.features[0].geometry.coordinates});\n});\n \n// Change the cursor to a pointer when the it enters a feature in the 'symbols' layer.\nmap.on('mouseenter', 'symbols', function () {\nmap.getCanvas().style.cursor = 'pointer';\n});\n \n// Change it back to a pointer when it leaves.\nmap.on('mouseleave', 'symbols', function () {\nmap.getCanvas().style.cursor = '';\n});\n});"]},"metadata":{},"sourceType":"module"}